import{u as V,a as E,b as k,r as _,c as F,o as g,d as f,e as b,t as u,f as s,g as I,h as l,w as n,i as B,j as N}from"./index-ce60f707.js";import{_ as C,E as L,a as S,b as q,c as D}from"./_plugin-vue_export-helper-5e9a901e.js";import{l as K}from"./user-c0d932c3.js";const T={class:"login-page"},U={class:"login-box"},$={class:"title",style:{"margin-bottom":"30px"}},j={key:0,class:"login-tip"},R={__name:"Login",setup(z){const h=V(),v=E(),{t:o}=k(),d=_(null),r=_(""),t=F({username:"",password:""}),w={username:[{required:!0,message:o("holder.username"),trigger:"blur"}],password:[{required:!0,message:o("holder.password"),trigger:"blur"}]};function p(){d.value.validate(i=>{if(i)K(t.username,t.password).then(e=>{h.commit("setIdentity",1),v.replace({path:"/"})}).catch(e=>{e.msg&&e.msg.length>0&&(r.value=e.msg)});else return!1})}return(i,e)=>{const m=q,c=D,y=L,x=S;return g(),f("div",T,[b("div",U,[b("h3",$,u(s(o)("login")),1),r.value.length>0?(g(),f("div",j,u(r.value),1)):I("",!0),l(y,{model:t,rules:w,"status-icon":"",ref_key:"loginForm",ref:d,"label-position":"left","label-width":"80px"},{default:n(()=>[l(c,{label:s(o)("label.username"),prop:"username"},{default:n(()=>[l(m,{type:"text",modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=a=>t.username=a),"auto-complete":"off",placeholder:s(o)("holder.username")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),l(c,{label:s(o)("label.password"),prop:"password"},{default:n(()=>[l(m,{type:"password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=a=>t.password=a),"auto-complete":"off",placeholder:s(o)("holder.password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),l(x,{type:"primary",class:"login-button",onClick:e[2]||(e[2]=a=>p()),onKeyup:e[3]||(e[3]=B(a=>p(),["enter"]))},{default:n(()=>[N(u(s(o)("login")),1)]),_:1})])])}}},J=C(R,[["__scopeId","data-v-2537dd4e"]]);export{J as default};
