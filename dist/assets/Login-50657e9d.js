import{u as x,a as E,b as k,r as c,c as F,o as _,d as g,e as f,t as u,f as s,g as I,h as a,w as n,i as B}from"./index-67ad50bf.js";import{_ as N,E as C,a as L,b as S,c as q}from"./_plugin-vue_export-helper-15710479.js";import{l as D}from"./user-2a76713b.js";const T={id:"login"},U={class:"login-page"},R={class:"title",style:{"margin-bottom":"30px"}},$={key:0,class:"login-tip"},j={__name:"Login",setup(z){const b=x(),h=E(),{t:o}=k(),d=c(null),r=c(""),t=F({username:"",password:""}),v={username:[{required:!0,message:o("holder.username"),trigger:"blur"}],password:[{required:!0,message:o("holder.password"),trigger:"blur"}]};function w(){d.value.validate(i=>{if(i)D(t.username,t.password).then(e=>{b.commit("setIdentity",1),h.replace({path:"/"})}).catch(e=>{e.data.msg&&e.data.msg.length>0&&(r.value=e.data.msg)});else return!1})}return(i,e)=>{const m=S,p=q,y=C,V=L;return _(),g("div",T,[f("div",U,[f("h3",R,u(s(o)("login")),1),r.value.length>0?(_(),g("div",$,u(r.value),1)):I("",!0),a(y,{model:t,rules:v,"status-icon":"",ref_key:"loginForm",ref:d,"label-position":"left","label-width":"80px"},{default:n(()=>[a(p,{label:s(o)("label.username"),prop:"username"},{default:n(()=>[a(m,{type:"text",modelValue:t.username,"onUpdate:modelValue":e[0]||(e[0]=l=>t.username=l),"auto-complete":"off",placeholder:s(o)("holder.username")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(p,{label:s(o)("label.password"),prop:"password"},{default:n(()=>[a(m,{type:"password",modelValue:t.password,"onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),"auto-complete":"off",placeholder:s(o)("holder.password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),a(V,{type:"primary",class:"login-button",onClick:e[2]||(e[2]=l=>w())},{default:n(()=>[B(u(s(o)("login")),1)]),_:1})])])}}},J=N(j,[["__scopeId","data-v-3e4b44b9"]]);export{J as default};
