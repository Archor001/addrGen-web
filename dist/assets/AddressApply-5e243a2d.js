import{h as a,b as L,r as d,o as m,d as g,e as r,t as i,f as t,w as n,H as R,g as b,i as F}from"./index-6f076c3a.js";import{E as N,a as B}from"./el-descriptions-item-23f76092.js";import{_ as D,E as j,a as z,b as S,c as T}from"./_plugin-vue_export-helper-602c0275.js";import{E as k}from"./el-message-18b9a23e.js";import{a as C,R as M,b as W}from"./address-c186609c.js";import{m as q}from"./md5-365fae09.js";import{I as G}from"./index-aa4c6371.js";const P=G("send",!0,function(s){return a("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M43 5L29.7 43L22.1 25.9L5 18.3L43 5Z",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linejoin":s.strokeLinejoin},null),a("path",{d:"M43.0001 5L22.1001 25.9",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null)])});const U={class:"addr-apply-container"},H={class:"addr-generate"},Z={class:"addr-generate-header"},$={key:0,class:"addr-generate-result"},J={class:"addr-generate-result-header"},K={style:{display:"flex","align-items":"center","justify-content":"center"}},O={style:{"font-size":"18px"}},Q={style:{"font-size":"18px"}},X={__name:"AddressApply",setup(s){const{t:e}=L(),o=d({}),f=d(null),p=d(""),c=d(!1),_=d(0);function w(){f.value.validate(v=>{if(v)c.value=!0,o.value.password=q(o.value.password),C(o.value).then(l=>{k.success(e("tip.applySuccess")),p.value=l.data.address||"",_.value=M}).catch(l=>{k.error(l.data.msg),_.value=W}).finally(()=>{c.value=!1});else return})}const I={nid:[{required:!0,message:e("holder.plsInputNID"),trigger:"blur"}],password:[{required:!0,message:e("holder.plsInputPassword"),trigger:"blur"}]};return(v,l)=>{const y=S,h=T,A=j,E=z,x=B,V=N;return m(),g("div",U,[r("div",H,[r("div",Z,[r("span",null,i(t(e)("label.addressApply")),1)]),a(A,{model:o.value,"label-width":"auto",class:"addr-generate-form",ref_key:"applyFormRef",ref:f,rules:I},{default:n(()=>[a(h,{label:t(e)("label.NID"),prop:"nid"},{default:n(()=>[a(y,{modelValue:o.value.nid,"onUpdate:modelValue":l[0]||(l[0]=u=>o.value.nid=u),placeholder:t(e)("holder.plsInputNID")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(h,{label:t(e)("label.password"),prop:"password"},{default:n(()=>[a(y,{modelValue:o.value.password,"onUpdate:modelValue":l[1]||(l[1]=u=>o.value.password=u),placeholder:t(e)("holder.plsInputPassword"),"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),r("div",null,[a(E,{type:"primary",onClick:l[2]||(l[2]=u=>w()),icon:t(P),class:"addr-generate-button",loading:c.value},{default:n(()=>[F(i(t(e)("button.generateAddress")),1)]),_:1},8,["icon","loading"])])]),_.value?(m(),g("div",$,[r("div",J,i(p.value?t(e)("label.addressApplySuccess"):t(e)("label.addressApplyFail")),1),p.value?(m(),R(V,{key:0,column:2,size:"default",border:""},{default:n(()=>[a(x,{align:"center"},{label:n(()=>[r("div",K,[r("span",O,i(t(e)("label.address")),1)])]),default:n(()=>[r("span",Q,i(p.value),1)]),_:1})]),_:1})):b("",!0)])):b("",!0)])}}},re=D(X,[["__scopeId","data-v-f243b3d9"]]);export{re as default};
