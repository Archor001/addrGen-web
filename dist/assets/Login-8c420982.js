import{u as x,a as E,b as k,r as _,c as F,o as g,d as f,e as b,t as d,f as a,g as I,h as s,w as n,i as B}from"./index-7772a8bc.js";import{_ as N,E as C,a as L,b as S,c as U}from"./_plugin-vue_export-helper-696b3250.js";import{l as q}from"./user-f7a87506.js";const D={id:"login"},T={class:"login-page"},R={class:"title",style:{"margin-bottom":"30px"}},$={key:0,class:"login-tip"},j={__name:"Login",setup(z){const u=x(),h=E(),{t}=k(),m=_(null),r=_(""),o=F({username:"",password:""}),v={username:[{required:!0,message:t("holder.username"),trigger:"blur"}],password:[{required:!0,message:t("holder.password"),trigger:"blur"}]};function w(){m.value.validate(i=>{if(i)q(o.username,o.password).then(e=>{u.commit("setIdentity",e.data.data.identity),u.commit("setUsername",e.data.data.username),h.replace({path:"/"})}).catch(e=>{e.data.msg&&e.data.msg.length>0&&(r.value=e.data.msg)});else return!1})}return(i,e)=>{const p=S,c=U,y=C,V=L;return g(),f("div",D,[b("div",T,[b("h3",R,d(a(t)("login")),1),r.value.length>0?(g(),f("div",$,d(r.value),1)):I("",!0),s(y,{model:o,rules:v,"status-icon":"",ref_key:"loginForm",ref:m,"label-position":"left","label-width":"80px"},{default:n(()=>[s(c,{label:a(t)("label.username"),prop:"username"},{default:n(()=>[s(p,{type:"text",modelValue:o.username,"onUpdate:modelValue":e[0]||(e[0]=l=>o.username=l),"auto-complete":"off",placeholder:a(t)("holder.username")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),s(c,{label:a(t)("label.password"),prop:"password"},{default:n(()=>[s(p,{type:"password",modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=l=>o.password=l),"auto-complete":"off",placeholder:a(t)("holder.password")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),s(V,{type:"primary",class:"login-button",onClick:e[2]||(e[2]=l=>w())},{default:n(()=>[B(d(a(t)("login")),1)]),_:1})])])}}},J=N(j,[["__scopeId","data-v-4a09fb89"]]);export{J as default};
