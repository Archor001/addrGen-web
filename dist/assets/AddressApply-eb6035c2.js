import{h as a,b as L,r as d,o as m,d as g,e as o,t as i,f as t,w as n,H as R,g as b,i as F}from"./index-67ad50bf.js";import{E as N,a as B}from"./el-descriptions-item-8ef57e24.js";import{_ as D,E as j,a as z,b as S,c as T}from"./_plugin-vue_export-helper-15710479.js";import{E as k}from"./el-message-52b4a7e8.js";import{a as C,R as M,b as W}from"./address-03120b04.js";import{I as q}from"./index-de56e28c.js";const G=q("send",!0,function(s){return a("svg",{width:s.size,height:s.size,viewBox:"0 0 48 48",fill:"none"},[a("path",{d:"M43 5L29.7 43L22.1 25.9L5 18.3L43 5Z",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linejoin":s.strokeLinejoin},null),a("path",{d:"M43.0001 5L22.1001 25.9",stroke:s.colors[0],"stroke-width":s.strokeWidth,"stroke-linecap":s.strokeLinecap,"stroke-linejoin":s.strokeLinejoin},null)])});const P={class:"addr-apply-container"},U={class:"addr-generate"},H={class:"addr-generate-header"},Z={key:0,class:"addr-generate-result"},$={class:"addr-generate-result-header"},J={style:{display:"flex","align-items":"center","justify-content":"center"}},K={style:{"font-size":"18px"}},O={style:{"font-size":"18px"}},Q={__name:"AddressApply",setup(s){const{t:e}=L(),r=d({}),f=d(null),p=d(""),c=d(!1),_=d(0);function w(){f.value.validate(v=>{if(v)c.value=!0,C(r.value.nid,r.value.password).then(l=>{k.success(e("tip.applySuccess")),p.value=l.data.address||"",_.value=M}).catch(l=>{k.error(l.data.msg),_.value=W}).finally(()=>{c.value=!1});else return})}const I={nid:[{required:!0,message:e("holder.plsInputNID"),trigger:"blur"}],password:[{required:!0,message:e("holder.plsInputPassword"),trigger:"blur"}]};return(v,l)=>{const y=S,h=T,A=j,E=z,x=B,V=N;return m(),g("div",P,[o("div",U,[o("div",H,[o("span",null,i(t(e)("label.addressApply")),1)]),a(A,{model:r.value,"label-width":"auto",class:"addr-generate-form",ref_key:"applyFormRef",ref:f,rules:I},{default:n(()=>[a(h,{label:t(e)("label.NID"),prop:"nid"},{default:n(()=>[a(y,{modelValue:r.value.nid,"onUpdate:modelValue":l[0]||(l[0]=u=>r.value.nid=u),placeholder:t(e)("holder.plsInputNID")},null,8,["modelValue","placeholder"])]),_:1},8,["label"]),a(h,{label:t(e)("label.password"),prop:"password"},{default:n(()=>[a(y,{modelValue:r.value.password,"onUpdate:modelValue":l[1]||(l[1]=u=>r.value.password=u),placeholder:t(e)("holder.plsInputPassword"),"show-password":""},null,8,["modelValue","placeholder"])]),_:1},8,["label"])]),_:1},8,["model"]),o("div",null,[a(E,{type:"primary",onClick:l[2]||(l[2]=u=>w()),icon:t(G),class:"addr-generate-button",loading:c.value},{default:n(()=>[F(i(t(e)("button.generateAddress")),1)]),_:1},8,["icon","loading"])])]),_.value?(m(),g("div",Z,[o("div",$,i(p.value?t(e)("label.addressApplySuccess"):t(e)("label.addressApplyFail")),1),p.value?(m(),R(V,{key:0,column:2,size:"default",border:""},{default:n(()=>[a(x,{align:"center"},{label:n(()=>[o("div",J,[o("span",K,i(t(e)("label.address")),1)])]),default:n(()=>[o("span",O,i(p.value),1)]),_:1})]),_:1})):b("",!0)])):b("",!0)])}}},ae=D(Q,[["__scopeId","data-v-80854c9d"]]);export{ae as default};
